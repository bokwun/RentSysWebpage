{"remainingRequest":"E:\\vue_demo\\RentSysWebsite\\node_modules\\babel-loader\\lib\\index.js!E:\\vue_demo\\RentSysWebsite\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\vue_demo\\RentSysWebsite\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\vue_demo\\RentSysWebsite\\src\\views\\AddHouseInfo.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\vue_demo\\RentSysWebsite\\src\\views\\AddHouseInfo.vue","mtime":1569674850122},{"path":"E:\\vue_demo\\RentSysWebsite\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\vue_demo\\RentSysWebsite\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\vue_demo\\RentSysWebsite\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\vue_demo\\RentSysWebsite\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport store from \"@/store\";\nimport PageTopBar from \"@/components/PageTopBar\";\nimport axios from 'axios';\nimport qs from 'qs';\nexport default {\n  // 注册头部组件\n  components: {\n    pageTopBar: PageTopBar\n  },\n  data: function data() {\n    return {\n      localIP: this.GLOBAL.localIP,\n      // 用来发布信息\n      idUser: [],\n      xiaoqumc: '',\n      shi: '',\n      ting: '',\n      wei: '',\n      mianji: '',\n      diceng: '',\n      gongceng: '',\n      chewei: '',\n      zujin: '',\n      quyu: '',\n      biaoti: '',\n      miaoshu: '',\n      lianxiren: '',\n      lianxidh: '',\n      dateTime: '',\n      picName: '',\n      isRegister: true,\n      // 图片载体\n      file: '',\n      // 11表示11行，不等于11就意味着有空值\n      count: 11\n    };\n  },\n  methods: {\n    uploading: function uploading(event) {\n      // 取消默认行为\n      event.preventDefault(); // ======获取图片和图片名字=================\n\n      this.file = this.$refs.file.files[0];\n      this.picName = this.$refs.file.files[0].name;\n    },\n    sub: function sub() {\n      var _this = this;\n\n      // 判断输入信息是否为空\n      if (!this.xiaoqumc) {\n        this.count--;\n      }\n\n      if (!this.shi || !this.ting || !this.wei || !this.mianji) {\n        this.count--;\n      }\n\n      if (!this.diceng || !this.gongceng) {\n        this.count--;\n      }\n\n      if (!this.chewei) {\n        this.count--;\n      }\n\n      if (!this.zujin) {\n        this.count--;\n      }\n\n      if (!this.quyu) {\n        this.count--;\n      }\n\n      if (!this.biaoti) {\n        this.count--;\n      }\n\n      if (!this.miaoshu) {\n        this.count--;\n      }\n\n      if (!this.file) {\n        this.count--;\n      }\n\n      if (!this.lianxiren) {\n        this.count--;\n      }\n\n      if (!this.lianxidh) {\n        this.count--;\n      }\n\n      if (this.count === 11) {\n        // =================提交图片==============================\n        var formData = new FormData();\n        formData.append('upload', this.file);\n        var config = {\n          headers: {\n            'Content-Type': 'multipart/form-data'\n          }\n        };\n        var url = \"http://\" + this.localIP + \"/api/upload\";\n        axios.post(url, formData, config).then(function (response) {\n          console.log(response.data);\n        }).catch(function (error) {\n          console.log(error);\n        }); //=======================================================\n        // string --> 对象\n\n        var d = JSON.parse(window.sessionStorage.data);\n        this.idUser = d; // 获取日期+时间  单位s\n\n        var t = new Date().getTime();\n        this.dateTime = t;\n        var message = qs.stringify({\n          idUser: this.idUser.id,\n          xiaoqumc: this.xiaoqumc,\n          shi: this.shi,\n          ting: this.ting,\n          wei: this.wei,\n          mianji: this.mianji,\n          diceng: this.diceng,\n          gongceng: this.gongceng,\n          chewei: this.chewei,\n          zujin: this.zujin,\n          quyu: this.quyu,\n          biaoti: this.biaoti,\n          miaoshu: this.miaoshu,\n          lianxiren: this.lianxiren,\n          lianxidh: this.lianxidh,\n          dateTime: this.dateTime,\n          picName: this.picName\n        });\n        var url1 = \"http://\" + this.localIP + \"/api/message\";\n        axios.post(url1, message, {\n          \"Content-Type\": 'application/x-www-form-urlencoded'\n        }).then(function (message) {\n          alert(\"发布成功\");\n\n          _this.$router.push('/');\n        }).catch(function (err) {\n          console.log(error);\n        });\n      } else {\n        this.count = 11;\n        alert(\"请填写完整信息\");\n      }\n    },\n    // 返回顶部\n    gototop: function gototop() {\n      document.body.scrollTop = 0;\n      document.documentElement.scrollTop = 0;\n    }\n  }\n};",{"version":3,"sources":["AddHouseInfo.vue"],"names":[],"mappings":"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","sourcesContent":["<template lang=\"html\">\r\n  <div class=\"mainFrame\">\r\n\r\n    <!-- topbar -->\r\n    <pageTopBar></pageTopBar>\r\n<!-- ======================================================================= -->\r\n\r\n    <!-- process -->\r\n    <div class=\"process\">\r\n      <div class=\"pos2\">\r\n        <div class=\"proone\">\r\n          <span>1.填写信息</span>\r\n        </div>\r\n        <div class=\"protwo\">\r\n          <span>2.完成发布</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n<!-- ======================================================================= -->\r\n\r\n    <!-- mainBox -->\r\n    <div class=\"mainBox\">\r\n      <div class=\"pos3\">\r\n        <!-- part2================================= -->\r\n        <div class=\"part2\">\r\n\r\n          <div class=\"title1\">\r\n            <div class=\"titlename1\">\r\n              <span>基础信息</span>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"f1\">\r\n            <div class=\"f1_typ1\">\r\n              <span style=\"color: red\">*</span>\r\n              <span>小区名称</span>\r\n            </div>\r\n            <div class=\"f1_choose1\">\r\n              <input\r\n                type=\"text\"\r\n                class=\"plotname\"\r\n                placeholder=\"请输入小区名\"\r\n                v-model=\"xiaoqumc\">\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"f2\">\r\n            <div class=\"f2_typ2\">\r\n              <span style=\"color: red\">*</span>\r\n              <span>房间类型</span>\r\n            </div>\r\n            <div class=\"f2_choose2\">\r\n              <div class=\"num\">\r\n                <input type=\"text\" class=\"numInput\" v-model=\"shi\">\r\n                <span class=\"r\">室</span>\r\n              </div>\r\n              <div class=\"num\">\r\n                <input type=\"text\" class=\"numInput\" v-model=\"ting\">\r\n                <span class=\"r\">厅</span>\r\n              </div>\r\n              <div class=\"num\">\r\n                <input type=\"text\" class=\"numInput\" v-model=\"wei\">\r\n                <span class=\"r\">卫</span>\r\n              </div>\r\n              <div class=\"num\">\r\n                <span class=\"l\">共</span>\r\n                <input type=\"text\" class=\"numInput\" v-model=\"mianji\">\r\n                <span class=\"r\">㎡</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"f3\">\r\n            <div class=\"f3_typ3\">\r\n              <span style=\"color: red\">*</span>\r\n              <span>楼层</span>\r\n            </div>\r\n            <div class=\"f3_choose3\">\r\n              <div class=\"num\">\r\n                <span class=\"l\">第</span>\r\n                <input type=\"text\" class=\"numInput\" v-model=\"diceng\">\r\n                <span class=\"r\">层</span>\r\n              </div>\r\n              <div class=\"num\">\r\n                <span class=\"l\">共</span>\r\n                <input type=\"text\" class=\"numInput\" v-model=\"gongceng\">\r\n                <span class=\"r\">层</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"f4\">\r\n            <div class=\"f4_typ4\">\r\n              <span style=\"color: red\">*</span>\r\n              <span>车位</span>\r\n            </div>\r\n            <div class=\"f4_choose4\">\r\n              <select class=\"parking\" v-model=\"chewei\">\r\n                <!-- 第一个option需要先绑定v-model才能显示 -->\r\n                <option disabled value=\"\">请选择</option>\r\n                <option value=\"有车位\">有车位</option>\r\n                <option value=\"无车位\">无车位</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"f5\">\r\n            <div class=\"f5_typ5\">\r\n              <span style=\"color: red\">*</span>\r\n              <span>租金</span>\r\n            </div>\r\n            <div class=\"f5_choose5\">\r\n              <div class=\"numspec\">\r\n                <input type=\"text\" class=\"numInput\" v-model=\"zujin\">\r\n                <span class=\"r\">元/月</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"f6\">\r\n            <div class=\"f6_typ6\">\r\n              <span style=\"color: red\">*</span>\r\n              <span>区域</span>\r\n            </div>\r\n            <div class=\"f6_choose6\">\r\n              <select class=\"area\" v-model=\"quyu\">\r\n                <option disabled value=\"\">请选择</option>\r\n                <option value=\"区域一\">区域一</option>\r\n                <option value=\"区域二\">区域二</option>\r\n                <option value=\"区域三\">区域三</option>\r\n                <option value=\"区域四\">区域四</option>\r\n                <option value=\"区域五\">区域五</option>\r\n                <option value=\"区域六\">区域六</option>\r\n                <option value=\"区域七\">区域七</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n\r\n        </div>\r\n        <!-- ==========part2================================= -->\r\n\r\n        <!-- ==========part3================================= -->\r\n        <div class=\"part3\">\r\n\r\n          <div class=\"title1\">\r\n            <div class=\"titlename1\">\r\n              <span>详细信息</span>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"f1\">\r\n            <div class=\"f1_typ1\">\r\n              <span style=\"color: red\">*</span>\r\n              <span>标题</span>\r\n            </div>\r\n            <div class=\"f1_choose1\">\r\n              <input\r\n                type=\"text\"\r\n                class=\"plotname\"\r\n                placeholder=\"请输入标题\"\r\n                v-model=\"biaoti\">\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"houseDescibe\">\r\n            <div class=\"left-part\">\r\n              <span style=\"color: red\">*</span>\r\n              <span>房源描述</span>\r\n            </div>\r\n            <div class=\"right-part\">\r\n              <textarea\r\n                class=\"content\"\r\n                name=\"name\"\r\n                rows=\"9\"\r\n                cols=\"85\"\r\n                placeholder=\"对租客的要求，周边交通及生活配套...\"\r\n                v-model=\"miaoshu\">\r\n              </textarea>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"uploadPic\">\r\n            <div class=\"left-part\">\r\n              <span style=\"color: red\">*</span>\r\n              <span>上传图片</span>\r\n            </div>\r\n            <div class=\"right_part\">\r\n              <div class=\"placePic\">\r\n                <!-- ref和refs配对，上传图片那里 -->\r\n                <input\r\n                  type=\"file\"\r\n                  accept=\"image/*\"\r\n                  ref=\"file\"\r\n                  @change=\"uploading($event)\">\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n        </div>\r\n        <!-- ==========part3================================= -->\r\n\r\n        <!-- ==========part4================================= -->\r\n        <div class=\"part4\">\r\n\r\n          <div class=\"title1\">\r\n            <div class=\"titlename1\">\r\n              <span>其它信息</span>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"f1\">\r\n            <div class=\"f1_typ1\">\r\n              <span style=\"color: red\">*</span>\r\n              <span>联系人</span>\r\n            </div>\r\n            <div class=\"f1_choose1\">\r\n              <input\r\n                type=\"text\"\r\n                class=\"plotname\"\r\n                placeholder=\"请输入姓名\"\r\n                v-model=\"lianxiren\">\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"f1\">\r\n            <div class=\"f1_typ1\">\r\n              <span style=\"color: red\">*</span>\r\n              <span>联系电话</span>\r\n            </div>\r\n            <div class=\"f1_choose1\">\r\n              <input\r\n                type=\"text\"\r\n                class=\"plotname\"\r\n                placeholder=\"请输入电话号码\"\r\n                v-model=\"lianxidh\">\r\n            </div>\r\n          </div>\r\n\r\n        </div>\r\n        <!-- ==========part4================================= -->\r\n\r\n        <!-- ==========part5================================= -->\r\n        <div class=\"part5\">\r\n\r\n          <div class=\"pos5\">\r\n            <button type=\"button\" class=\"release\" @click=\"sub()\">发布</button>\r\n          </div>\r\n\r\n        </div>\r\n        <!-- ==========part5================================= -->\r\n\r\n      </div>\r\n    </div>\r\n<!-- ======================================================================= -->\r\n\r\n    <!-- 返回顶部 -->\r\n    <div class=\"gototop\" @click=\"gototop\">\r\n      <p>返回</p>\r\n      <p>顶部</p>\r\n    </div>\r\n<!-- ======================================================================= -->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport store from \"@/store\"\r\nimport PageTopBar from \"@/components/PageTopBar\"\r\nimport axios from 'axios'\r\nimport qs from 'qs'\r\nexport default {\r\n  // 注册头部组件\r\n  components: {\r\n    pageTopBar: PageTopBar\r\n  },\r\n  data () {\r\n    return {\r\n\t  localIP: this.GLOBAL.localIP,\r\n\t\r\n      // 用来发布信息\r\n      idUser:[],\r\n      xiaoqumc: '',\r\n      shi: '',\r\n      ting: '',\r\n      wei: '',\r\n      mianji: '',\r\n      diceng: '',\r\n      gongceng: '',\r\n      chewei: '',\r\n      zujin: '',\r\n      quyu: '',\r\n      biaoti: '',\r\n      miaoshu: '',\r\n      lianxiren: '',\r\n      lianxidh: '',\r\n      dateTime: '',\r\n      picName: '',\r\n      isRegister: true,\r\n      // 图片载体\r\n      file:'',\r\n      // 11表示11行，不等于11就意味着有空值\r\n      count: 11\r\n\r\n    }\r\n  },\r\n  methods: {\r\n    uploading (event) {\r\n      // 取消默认行为\r\n      event.preventDefault()\r\n      // ======获取图片和图片名字=================\r\n      this.file = this.$refs.file.files[0]\r\n      this.picName = this.$refs.file.files[0].name\r\n    },\r\n    sub () {\r\n      // 判断输入信息是否为空\r\n      if (!this.xiaoqumc) {\r\n        this.count--\r\n      }\r\n      if (!this.shi || !this.ting || !this.wei || !this.mianji) {\r\n        this.count--\r\n      }\r\n      if (!this.diceng || !this.gongceng) {\r\n        this.count--\r\n      }\r\n      if (!this.chewei) {\r\n        this.count--\r\n      }\r\n      if (!this.zujin) {\r\n        this.count--\r\n      }\r\n      if (!this.quyu) {\r\n        this.count--\r\n      }\r\n      if (!this.biaoti) {\r\n        this.count--\r\n      }\r\n      if (!this.miaoshu) {\r\n        this.count--\r\n      }\r\n      if (!this.file) {\r\n        this.count--\r\n      }\r\n      if (!this.lianxiren) {\r\n        this.count--\r\n      }\r\n      if (!this.lianxidh) {\r\n        this.count--\r\n      }\r\n\r\n      if (this.count === 11) {\r\n        // =================提交图片==============================\r\n        var formData = new FormData()\r\n        formData.append('upload', this.file)\r\n        let config = {\r\n          headers: {'Content-Type': 'multipart/form-data'}\r\n        }\r\n\t\tvar url = \"http://\" + this.localIP + \"/api/upload\"\r\n        axios.post(url, formData, config)\r\n        .then( response => {\r\n          console.log(response.data)\r\n        })\r\n        .catch( error => {\r\n          console.log(error)\r\n        })\r\n        //=======================================================\r\n\r\n        // string --> 对象\r\n        var d = JSON.parse(window.sessionStorage.data)\r\n        this.idUser = d\r\n        // 获取日期+时间  单位s\r\n        var t = (new Date()).getTime()\r\n        this.dateTime = t\r\n        var message = qs.stringify({\r\n          idUser:   this.idUser.id,\r\n          xiaoqumc: this.xiaoqumc,\r\n          shi:      this.shi,\r\n          ting:     this.ting,\r\n          wei:      this.wei,\r\n          mianji:   this.mianji,\r\n          diceng:   this.diceng,\r\n          gongceng: this.gongceng,\r\n          chewei:   this.chewei,\r\n          zujin:    this.zujin,\r\n          quyu:     this.quyu,\r\n          biaoti:   this.biaoti,\r\n          miaoshu:  this.miaoshu,\r\n          lianxiren:this.lianxiren,\r\n          lianxidh: this.lianxidh,\r\n          dateTime: this.dateTime,\r\n          picName:  this.picName\r\n        })\r\n\t\tvar url1 = \"http://\" + this.localIP + \"/api/message\"\r\n        axios.post( url1,\r\n                    message,\r\n                    {\"Content-Type\":'application/x-www-form-urlencoded'}\r\n        )\r\n        .then( message => {\r\n          alert(\"发布成功\");\r\n          this.$router.push('/');\r\n        })\r\n        .catch( err => {\r\n          console.log(error);\r\n        })\r\n      } else {\r\n        this.count = 11\r\n        alert(\"请填写完整信息\")\r\n      }\r\n    },\r\n    // 返回顶部\r\n    gototop () {\r\n      document.body.scrollTop = 0\r\n      document.documentElement.scrollTop = 0\r\n    }\r\n  }\r\n\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n// ===============================process=============================//\r\n.process{\r\n  width: 100%;\r\n  height: 100px;\r\n  position: relative;\r\n}\r\n.pos2{\r\n  width: 1000px;\r\n  margin: 0 auto;\r\n  position: relative;\r\n  display: flex;\r\n  flex-wrap: nowrap;\r\n  align-content: space-around;\r\n}\r\n.proone, .protwo{\r\n  flex: 1;\r\n  border-bottom: 2px #ccc solid;\r\n  margin: 25px 50px;\r\n  position: relative;\r\n  text-align: left;\r\n  line-height: 50px;\r\n}\r\n// ============================process===============================//\r\n\r\n\r\n//=============================mainBox===============================//\r\n//=======================类别======================================\r\n.mainBox{\r\n  width: 100%;\r\n  height: 1800px;\r\n  position: relative;\r\n}\r\n.pos3{\r\n  width: 1000px;\r\n  height: 100%;\r\n  margin: 0 auto;\r\n  position: relative;\r\n}\r\n.part1{\r\n  width: 1000px;\r\n  height: 100px;\r\n  position: relative;\r\n}\r\n.title1{\r\n  width: 100%;\r\n  height: 20px;\r\n  position: relative;\r\n}\r\n.titlename1{\r\n  width: 20%;\r\n  height: 100%;\r\n  text-align: right;\r\n  position: relative;\r\n  font-weight: bold;\r\n}\r\n.content1{\r\n  width: 100%;\r\n  height: 50px;\r\n  margin-top: 20px;\r\n}\r\n.typ1{\r\n  width: 20%;\r\n  height: 50px;\r\n  line-height: 50px;\r\n  text-align: right;\r\n  float: left;\r\n}\r\n.choose1{\r\n  width: 75%;\r\n  height: 50px;\r\n  line-height: 50px;\r\n  text-align: left;\r\n  float: right;\r\n}\r\n.one, .two{\r\n  float: left;\r\n}\r\n\r\n// =================================基础信息=============================\r\n// ============================part2================================//\r\n.part2{\r\n  width: 100%;\r\n  height: 600px;\r\n  position: relative;\r\n  margin-top: 20px;\r\n}\r\n.f1, .f2,.f3, .f4,.f5,.f6{\r\n  width: 100%;\r\n  height:80px;\r\n  margin-top: 10px;\r\n}\r\n.f1_typ1, .f2_typ2,.f3_typ3, .f4_typ4,.f5_typ5,.f6_typ6{\r\n  width: 20%;\r\n  height: 100%;\r\n  position: relative;\r\n  float: left;\r\n  line-height: 80px;\r\n  text-align: right;\r\n}\r\n.f1_choose1, .f2_choose2,.f3_choose3, .f4_choose4,.f5_choose5,.f6_choose6{\r\n  width: 75%;\r\n  height: 80px;\r\n  float: right;\r\n  position: relative;\r\n  text-align: left;\r\n}\r\n.f1_choose1{\r\n  line-height: 80px;\r\n}\r\n.plotname{\r\n  width: 80%;\r\n  height: 40px;\r\n  padding-left: 10px;\r\n  padding-bottom: 3px;\r\n  font-size: 16px;\r\n  border: 1px solid #eee;\r\n  outline-style: none;\r\n}\r\n.num{\r\n  width: 120px;\r\n  height: 30px;\r\n  float: left;\r\n  border: 1px solid #eee;\r\n  position: relative;\r\n  top: 25px;\r\n  margin-right: 10px;\r\n  line-height: 30px;\r\n}\r\n.numspec{\r\n  width: 150px;\r\n  height: 30px;\r\n  float: left;\r\n  border: 1px solid #eee;\r\n  position: relative;\r\n  top: 25px;\r\n  margin-right: 10px;\r\n  line-height: 30px;\r\n}\r\n.numInput{\r\n  float: left;\r\n  width: 60px;\r\n  height: 29px;\r\n  position: absolute;\r\n  left: 30px;\r\n  border: none;\r\n  text-align: center;\r\n  // 文本框点击后没有框线和颜色变化\r\n  outline-style: none;\r\n}\r\n.parking, .area{\r\n  width: 120px;\r\n  height: 30px;\r\n  float: left;\r\n  border: 1px solid #eee;\r\n  position: relative;\r\n  top: 25px;\r\n  margin-right: 10px;\r\n  line-height: 30px;\r\n  outline-style: none;\r\n}\r\n.plotname:hover{\r\n    border: 1px solid black;\r\n}\r\n.plotname:focus{\r\n    border: 1px solid black;\r\n}\r\n.num:hover{\r\n  border: 1px solid black;\r\n}\r\n.numspec:hover{\r\n    border: 1px solid black;\r\n}\r\n.parking:hover{\r\n  cursor: pointer;\r\n  border: 1px solid black;\r\n}\r\n.area:hover{\r\n  cursor: pointer;\r\n  border: 1px solid black;\r\n}\r\n.l{\r\n  float: left;\r\n  position: absolute;\r\n  left: 2px;\r\n  color: #ccc;\r\n}\r\n.r{\r\n  float: right;\r\n  position: absolute;\r\n  right: 2px;\r\n  color: #CCC;\r\n}\r\n// ============================part2================================//\r\n\r\n// ============================part3================================//\r\n.part3{\r\n  width: 100%;\r\n  height: 500px;\r\n  position: relative;\r\n  margin-top: 20px;\r\n}\r\n.houseDescibe{\r\n  width: 100%;\r\n  height:140px;\r\n  margin-top: 10px;\r\n}\r\n.content{\r\n  width: 750px;\r\n  height: 100%;\r\n  padding-top: 10px;\r\n  padding-left: 10px;\r\n  font-size: 18px;\r\n  font-family: monospace;\r\n  color: black;\r\n  box-sizing: border-box;\r\n  resize: none;\r\n  outline-style: none;\r\n  border: 1px solid #eee;\r\n}\r\n.content:hover{\r\n  border: 1px black solid;\r\n}\r\n.content:focus{\r\n  border: 1px black solid;\r\n}\r\n.left-part{\r\n  width: 20%;\r\n  height: 100%;\r\n  position: relative;\r\n  float: left;\r\n  text-align: right;\r\n\r\n}\r\n.right-part{\r\n  width: 75%;\r\n  height: 140px;\r\n  float: right;\r\n  position: relative;\r\n  text-align: left;\r\n}\r\n.uploadPic{\r\n  width: 100%;\r\n  height:173px;\r\n  margin-top: 20px;\r\n}\r\n.right_part{\r\n  width: 75%;\r\n  height: 173px;\r\n  float: right;\r\n  position: relative;\r\n  text-align: left;\r\n}\r\n.placePic{\r\n  height: 143px;\r\n  width: 196px;\r\n  position: relative;\r\n}\r\n.placePic input{\r\n  display: inline-block;\r\n  width: 100%;\r\n  height: 100%;\r\n  background: url('~@/../src/assets/bg.png') center center no-repeat;\r\n  background-size: 100% 100%;\r\n  outline-style: none;\r\n}\r\n.placePic input:hover{\r\n  cursor: pointer;\r\n}\r\n.clickToUpload:hover{\r\n  cursor: pointer;\r\n}\r\n// ============================part3================================//\r\n\r\n// ====================part4==========================\r\n.part4{\r\n  width: 100%;\r\n  height: 300px;\r\n  position: relative;\r\n  margin-top: 20px;\r\n}\r\n// ====================part4==========================\r\n\r\n// ====================part5==========================\r\n.part5{\r\n  width: 100%;\r\n  height: 50px;\r\n  position: relative;\r\n  margin-top: 20px;\r\n}\r\n.pos5{\r\n  width: 1000px;\r\n  height: 100%;\r\n  margin: 0 auto;\r\n  position: relative;\r\n}\r\n.release{\r\n  width: 250px;\r\n  height: 100%;\r\n  background-color: rgba(255,55,10,.9);\r\n  color: white;\r\n  font-size: 22px;\r\n  position: absolute;\r\n  left: 300px;\r\n  border-radius: 8px;\r\n  outline-style: none;\r\n}\r\n.release:hover{\r\n    background-color: rgba(255,85,46,.9);\r\n}\r\n// ====================part5==========================\r\n// ============================mainBox================================//\r\n\r\n// ============================返回顶部================================//\r\n.gototop{\r\n  width: 50px;\r\n  height: 50px;\r\n  box-sizing: border-box;\r\n  padding-top: 8px;\r\n  border: 1px #ddd solid;\r\n  position: fixed;\r\n  bottom: 50px;\r\n  right: 5px;\r\n  text-align: center;\r\n  font-size: 10px;\r\n  background-color: white;\r\n}\r\n.gototop:hover{\r\n  cursor: pointer;\r\n  color: white;\r\n  background-color: red;\r\n}\r\n</style>\r\n"],"sourceRoot":"src/views"}]}